<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Book accommodations for your trip">
    <title>Book Accommodations - Travel Planner</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/design-system.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/accommodations.css">
</head>

<body>
    <div class="accommodations-page">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="container navbar-container">
                <a href="dashboard.html" class="navbar-brand">
                    <img src="assets/images/logo.png" alt="Travel Planner" class="navbar-logo">
                    <span class="navbar-title">Travel Planner</span>
                </a>

                <div class="navbar-menu">
                    <a href="dashboard.html" class="navbar-link">
                        <span>üè†</span>
                        <span>Home</span>
                    </a>
                    <a href="my-trips.html" class="navbar-link">
                        <span>‚úàÔ∏è</span>
                        <span>My Trips</span>
                    </a>
                    <div class="dropdown">
                        <div class="navbar-user" id="userMenuToggle">
                            <div class="avatar" id="userAvatar">U</div>
                            <span class="navbar-user-name" id="userName">User</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="dropdown-menu" id="userMenu">
                            <a href="#" class="dropdown-item" id="logoutLink">
                                <span>üö™</span>
                                <span>Logout</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Page Header -->
        <div class="page-header">
            <div class="container">
                <button class="btn btn-ghost" onclick="history.back()">
                    <span>‚Üê</span>
                    Back to Trip
                </button>
                <h1 class="page-title" id="tripTitle">Book Accommodations</h1>
                <p class="page-subtitle" id="tripRoute">Plan your stays along the route</p>
            </div>
        </div>

        <!-- Main Content -->
        <div class="container">
            <!-- Journey Overview -->
            <div class="journey-overview">
                <h2 class="section-title">Your Journey</h2>
                <div class="journey-map">
                    <div class="journey-point origin">
                        <div class="journey-marker">üèÅ</div>
                        <div class="journey-label" id="originCity">Origin</div>
                    </div>
                    <div class="journey-path" id="journeyPath">
                        <!-- Waypoints will be added here -->
                    </div>
                    <div class="journey-point destination">
                        <div class="journey-marker">üéØ</div>
                        <div class="journey-label" id="destinationCity">Destination</div>
                    </div>
                </div>
                <div class="journey-stats">
                    <div class="journey-stat">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span class="stat-label">Estimated Travel Time</span>
                        <span class="stat-value" id="travelTime">0 hours</span>
                    </div>
                    <div class="journey-stat">
                        <span class="stat-icon">üìç</span>
                        <span class="stat-label">Stops Needed</span>
                        <span class="stat-value" id="stopsNeeded">0</span>
                    </div>
                </div>
            </div>

            <!-- Accommodation Locations -->
            <div class="accommodations-section">
                <div class="section-header">
                    <h2 class="section-title">Recommended Stays Along Your Route</h2>
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="all">All</button>
                        <button class="filter-btn" data-filter="budget">Budget</button>
                        <button class="filter-btn" data-filter="mid-range">Mid-Range</button>
                        <button class="filter-btn" data-filter="luxury">Luxury</button>
                    </div>
                </div>

                <div id="accommodationsContainer">
                    <!-- Accommodation cards will be generated here -->
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-state-icon">üè®</div>
                    <h3 class="empty-state-title">No accommodations needed</h3>
                    <p class="empty-state-text">Your journey is short enough for a single day trip!</p>
                </div>
            </div>

            <!-- Booking Summary -->
            <div class="booking-summary" id="bookingSummary" style="display: none;">
                <h3 class="summary-title">Booking Summary</h3>
                <div id="bookedAccommodations">
                    <!-- Booked accommodations will be listed here -->
                </div>
                <div class="summary-total">
                    <span>Total Accommodation Cost:</span>
                    <span class="total-amount" id="totalCost">$0</span>
                </div>
                <div class="summary-actions">
                    <button class="btn btn-ghost" onclick="clearAllBookings()">Clear All</button>
                    <button class="btn btn-primary" onclick="confirmBookings()">
                        <span>‚úì</span>
                        Confirm & Add to Trip
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hotel Details Modal -->
    <div class="modal-overlay" id="hotelDetailsModal">
        <div class="modal modal-large">
            <div class="modal-header">
                <h3 class="modal-title" id="modalHotelName">Hotel Details</h3>
                <button class="modal-close" onclick="closeHotelModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="hotel-details-content">
                    <img id="modalHotelImage" class="hotel-details-image" alt="Hotel">
                    <div class="hotel-details-info">
                        <div class="hotel-rating" id="modalHotelRating"></div>
                        <p class="hotel-description" id="modalHotelDescription"></p>

                        <h4>Amenities</h4>
                        <div class="amenities-list" id="modalAmenities"></div>

                        <h4>Room Options</h4>
                        <div class="room-options" id="modalRoomOptions"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeHotelModal()">Close</button>
                <button class="btn btn-primary" id="modalBookButton">
                    <span>üõèÔ∏è</span>
                    Book This Stay
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/accommodations.js"></script>
</body>

</html>